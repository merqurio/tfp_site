// Overrides
$small-breakpoint: 900px !default;

// bower:scss
@import 'bower_components/reset-css/_reset';
@import 'bower_components/girder/scss/girder';
@import 'bower_components/bourbon/app/assets/stylesheets/bourbon';
// endbower

// Imports
@import 'mixins';
@import 'variables';

// Fonts
@include font-face('Canaro', '../fonts/canaro-medium-webfont', normal);
@include font-face('Canaro', '../fonts/canaro-semibold-webfont', bold);
@include font-face('Canaro', '../fonts/canaro-light-webfont', lighter);
@include font-face('icomoon', '../fonts/icomoon', normal, normal);

// General
html,
body {
  background: $main-color;
  font-family: $main-font;
  height: 100%;
  width: 100%;
}

html {
  -webkit-tap-highlight-color: trasnparent;
}

body {
  font: normal 75% $main-font;
}

canvas {
  display: block;
  vertical-align: bottom;
}

.whole {
  height: 100%;
  width: 100%;
}

.img-replace {
  display: inline-block;
  overflow: hidden;
  text-indent: 100%;
  white-space: nowrap;
}

// main menu
.vertical-nav {
  @include center(false, true);
  display: none;
  position: fixed;
  right: 40px;
  z-index: 1;

  li {
    text-align: right;
  }

  a {
    display: inline-block;

    span {
      @include transform(scale(.6));
      display: inline-block;
      float: right;
    }

    &:hover span {
      @include transform(scale(1));
    }

    &:hover .label {
      opacity: 1;
    }

    &:hover .dot {
      background-color: $third-color;
    }

    &.is-selected .dot {
      background-color: $main-white;
    }

  }

  .dot {
    @include transform-origin(50% 50%);
    background-color: $second-color;
    border-radius: 1px;
    height: 12px;
    position: relative;
    top: 8px;
    transition: transform .2s, background-color .5s;
    width: 12px;
  }

  .label {
    @include transform-origin(100% 50%);
    color: $main-white;
    font-size: 2vh;
    margin-right: 10px;
    opacity: 0;
    padding: 2px;
    position: relative;
    transition: transform .2s, opacity .2s;
  }
}

// mobile menu
.extended-nav {
  @include transform-origin(right top);
  @include transform(scale(0));
  @include transition-property(transform);
  @include transition-duration(.2s);
  background-color: rgba(shade($main_color, 60%), .9);
  border-radius: 1px;
  max-height: 90%;
  max-width: 400px;
  -webkit-overflow-scrolling: touch;
  overflow-y: scroll;
  position: fixed;
  right: 5%;
  top: 30px;
  width: 90%;
  z-index: 1;

  a {
    border-bottom: 1px solid rgba($main_white, .1);
    color: $anchor-color;
    display: block;
    font-size: 1.5em;
    padding: 1em;
    text-decoration: none;

    span:first-child {
      display: none;
    }

    &:hover {
      color: $third-color;
    }

    &.is-selected span:last-child {
      color: $third-color;
    }
  }

  &.open {
    @include transform(scale(1));
  }

  &.open + #nav-trigger {
    background-color: transparent;

    span {
      background-color: rgba($main_color, 0);
    }

    span::before,
    span::after {
      background-color: rgba($main_white, 1);
      border-radius: 0;
      height: 3px;
      left: -8px;
      width: 20px;
    }

    span::before {
      @include transform(rotate(45deg));
      top: 1px;
    }

    span::after {
      @include transform(rotate(135deg));
      bottom: 0;
    }
  }

  li:last-child a {
    border-bottom: 0;
  }
}

// mobile trigger
.nav-trigger {
  background: rgba(shade($main_color, 60%), .9);
  border-radius: 1px;
  cursor: pointer;
  display: block;
  height: 44px;
  position: fixed;
  right: 5%;
  top: 30px;
  width: 44px;
  z-index: 2;

  span {
    @include center;
    background-color: $main-white;
    border-radius: 1px;
    height: 4px;
    position: absolute;
    width: 4px;

    &::before,
    &::after {
      background-color: inherit;
      border-radius: inherit;
      content: '';
      height: 100%;
      left: 0;
      position: absolute;
      width: 100%;
    }

    &::before {
      top: -9px;
    }

    &::after {
      bottom: -9px;
    }
  }
}

@media only screen and (min-width: $small-breakpoint) {
  .nav-trigger,
  .extended-nav {
    display: none;
  }

  .vertical-nav {
    display: block;
  }
}

header {
  height: 14vh;

  img {
    @include center(true, false);
    height: 5vh;
    margin-top: 5.5vh;
  }
}

//////////////// HOME //////////////////
@import 'home';
